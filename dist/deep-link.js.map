{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c93634826eab20fe11a0","webpack:///./src/index.js"],"names":["addEvent","element","eventName","fn","addEventListener","attachEvent","loadFrame","id","appScheme","iFrame","document","getElementById","body","removeChild","createElement","style","width","height","visibility","onLoad","src","appendChild","redirectTo","url","location","href","validate","options","Error","DeepLink","configs","register","el","e","preventDefault","openOnlyStore","openStore","openApp","params","openStoreWhenNoInstalledTheApp","alsoUseWebUrlOnMobile","ua","navigator","userAgent","toLowerCase","isIPhone","test","isAndroid","indexOf","isMobile","webUrl","interval","timer","clearTimers","clearInterval","clearTimeout","checkAppInterval","webkitHidden","hidden","setInterval","setTimeout","appStoreLink","appStore","playStore"],"mappings":"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","file":"deep-link.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DeepLink\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DeepLink\"] = factory();\n\telse\n\t\troot[\"DeepLink\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c93634826eab20fe11a0","// Event Register Function\nconst addEvent = (element, eventName, fn) => {\n  if (element.addEventListener) {\n    element.addEventListener(eventName, fn, false)\n  } else if (element.attachEvent) {\n    element.attachEvent('on' + eventName, fn)\n  } else {\n    element['on' + eventName] = fn\n  }\n}\n\n// Find Frame Function\nconst loadFrame = (id, appScheme) => {\n  let iFrame = document.getElementById(id)\n  if (iFrame) {\n    document.body.removeChild(iFrame)\n  }\n  if (appScheme) {\n    iFrame = document.createElement('iframe')\n    iFrame.id = 'for-android-deeplink'\n    iFrame.style.width = 0\n    iFrame.style.height = 0\n    iFrame.style.visibility = 'hidden'\n    iFrame.onLoad = () => {\n      iFrame.src = appScheme\n    }\n    document.body.appendChild(iFrame)\n  }\n}\n\n// Redirect Function\nconst redirectTo = (url) => {\n  url && (document.location.href = url)\n}\n\n// Validation\nconst validate = (options) => {\n  if (typeof options.appScheme === 'undefined') {\n    throw Error('appScheme is a required param value.')\n  }\n}\n\nexport default class DeepLink {\n  configs = {}\n\n  // constructor\n  constructor (configs) {\n    this.configs = configs\n  }\n\n  // binding function.\n  register = (el, options) => {\n    validate(options)\n    addEvent(el, 'click', (e) => {\n      e && e.preventDefault()\n      if (options.openOnlyStore === true) {\n        this.openStore()\n      } else {\n        this.openApp(options)\n      }\n    })\n  }\n\n  // open the app.\n  openApp = (params) => {\n    validate(params)\n\n    const options = {\n      openStoreWhenNoInstalledTheApp: true,\n      alsoUseWebUrlOnMobile: true,\n      ...params\n    }\n\n    const ua = navigator.userAgent.toLowerCase()\n    const isIPhone = /iphone|ipad|ipod/.test(ua)\n    const isAndroid = !!~ua.indexOf('android')\n    const isMobile = isIPhone || isAndroid\n\n    // on Desktop\n    if (isMobile === false) {\n      redirectTo(options.webUrl)\n      return\n    }\n\n    // on Mobile\n    if (options.openStoreWhenNoInstalledTheApp === true) {\n      let interval\n      let timer\n      const clearTimers = () => {\n        clearInterval(interval)\n        clearTimeout(timer)\n      }\n      const checkAppInterval = () => {\n        if (document.webkitHidden || document.hidden) {\n          clearTimers()\n        }\n      }\n      interval = setInterval(checkAppInterval, 200)\n      timer = setTimeout(() => this.openStore(), 1000)\n    }\n\n    if (isAndroid === true) {\n      loadFrame('for-android-deeplink', options.appScheme)\n    } else {\n      redirectTo(options.appScheme)\n    }\n\n    if (options.alsoUseWebUrlOnMobile === false) {\n      return\n    }\n\n    if (options.openStoreWhenNoInstalledTheApp === true) {\n      setTimeout(() => redirectTo(options.webUrl), 2200)\n    } else {\n      redirectTo(options.webUrl)\n    }\n  }\n\n  // open the store.\n  openStore = () => {\n    const ua = navigator.userAgent.toLowerCase()\n    const isIPhone = /iphone|ipad|ipod/.test(ua)\n    const appStoreLink = isIPhone ? this.configs.appStore : this.configs.playStore\n    redirectTo(appStoreLink)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}